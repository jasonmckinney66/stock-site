function noMoreLonelyWords(e,t){for(var n=document.querySelectorAll(e),o=0;o<n.length;++o){var s=n[o].innerText.split(" "),a=s.splice(-t,t).join("&nbsp;"),s=s.join(" ");n[o].innerHTML=s+" "+a}}function callback(e){for(var t in e)e.forEach(function(e){e.isIntersecting?e.target.classList.add("in-view"):e.target.classList.remove("in-view")})}function initObserver(){var e,t=new IntersectionObserver(callback),n=document.querySelectorAll(".js-observe");for(e in n)n.hasOwnProperty(e)&&t.observe(n[e])}!function(c){var u={speed:300,offset:0,currentClass:"active",updateHash:!1,classToParent:!1},t={init:function(e,t){u=c.extend(u,e),this.$navbar=c(t),this.$items=this.$navbar.find("a:not(.externals)"),this.$window=c(window),this.hashNow=void 0,this.$items.on("click",this.clicked),this.$window.on("scroll",c.proxy(this.scrollPage,this)),this.$window.on("resize",c.proxy(this.scrollPage,this))},clicked:function(e){e.preventDefault();e=c(this).attr("href"),e=c(e).offset().top-u.offset;c("html, body").animate({scrollTop:e},u.speed)},scrollPage:function(){var e=this,t=[],n=void 0;e.$items.each(function(){var e=c(this).attr("href"),e=c(e);e&&t.push(e)});for(var o,s=0;s<t.length;s++){var a=t[s],r=a.height(),i=a.offset().top,l=e.$window.scrollTop(),a=e.$window.height();if(l<=i&&r+i<l+a){n=t[s].attr("id");break}}n&&(!u.updateHash||e.hashNow!=(o="#"+n)&&(e.hashNow=o,history.pushState({},"",o)),u.classToParent?(e.$items.parent().removeClass(u.currentClass),c('a[href="#'+n+'"]').parent().addClass(u.currentClass)):(e.$items.removeClass(u.currentClass),c('a[href="#'+n+'"]').addClass(u.currentClass)))}};c.fn.navpoints=function(e){this.each(function(){Object.create(t).init(e,this)})}}(jQuery),function(i){i.fn.tweetHighlighted=function(e){var r={};r.node=(e=e||{}).node||'<button type="button">Tweet</button>',r.cssClass=e.cssClass||"tweet-me",r.minLength=e.minLength||1,r.maxLength=e.maxLength||576,r.extra=e.extra||"",r.via=e.via||null,r.popupArgs=e.popArgs||"width=400,height=400,toolbar=0,location=0",r.callback=e.callback||null,e=r.cssClass.split(" ").filter(function(e){return e.length}),r._selector="."+e.join(".");var n;function o(){return window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:""}n=function(e,t){var n,o,s,a;i(r._selector).length||t.length>r.maxLength||t.length<r.minLength||(o=r.extra,s=r.via,a="https://twitter.com/intent/tweet?text=",a+=encodeURIComponent(t),o&&(a+=encodeURIComponent(" "+o)),s&&(a+="&via="+s),n=a,i(r.node).addClass(r.cssClass).offset({top:e.pageY,left:e.pageX}).css({position:"absolute",cursor:"pointer"}).appendTo("body").fadeIn(500).click(function(e){i(r._selector).fadeOut(500).remove(),window.open(n,"_blank",r.popupArgs),null!=r.callback&&r.callback(t)}))},i(this).mouseup(function(e){var t=o();""!==t&&n(e,t)}),i(document).click(function(e){""!==o()?e.stopPropagation():i(r._selector).fadeOut(500).remove()})}}(jQuery),$(document).on("ready",function(){alertBar(),alertBarCheck()}),$(function(){localStorage.getItem("alert")}),$(function(){var e=null===localStorage.getItem("alert");$(".alert").toggleClass("d-none",!e),$(".alert").show(),$(".js-close").on("click",function(){localStorage.setItem("alert","seen"),$(this).closest(".alert").addClass("d-none"),$("body").removeClass("alert-bar")})}),noMoreLonelyWords(".widont",2),function(h){h.fn.more=function(e){var d=h.extend({},h.fn.more.defaults,e);return this.each(function(){var e=h(this),n=e.data("section"),t=h(d.contentSelector),o=(h(d.postSelector),h(d.moreSelector)),s=!(!window.history||!history.pushState);function a(e){t.append(e),c(),u()}function r(){return e.find("option:selected:first")}function i(){return t.find(d.postSelector).length}function l(e){t.empty().append(e),c(),u()}function c(){i()<r().data("count")?o.show():o.hide()}function u(){var t=i(),n=h(".total-count:last").text();if(d.displayCount){let e=h(".display-count");e.length&&e.text(t)}if(d.displayTotal){let e=h(".display-total");e.length&&n.length&&e.text(n)}console.log("currentCount: "+t,"totalCount: "+n),n.length&&(t<n?h(".counts").show():h(".counts").hide())}e.change(function(){var e=h(this).find("option:selected:first"),t={section:n,category:e.data("category"),where:d.where,orderBy:d.orderBy,offset:0,limit:d.limit};h.get(d.url,t,l),e=e.data("url"),s&&history.pushState(null,null,e)}),o.click(function(){var e={section:n,category:r().data("category"),where:d.where,orderBy:d.orderBy,offset:i(),limit:d.limit};h.get(d.url,e,a)}),c()})},h.fn.more.defaults={contentSelector:".listings",postSelector:".col",moreSelector:"button.more",url:"/more",limit:9,orderBy:"",where:"",displayCount:!1,displayTotal:!1}}(jQuery),$(function(){$(document).on("click",function(e){var t=$(e.target),n=t.hasClass("nav-menu__item--parent"),o=t.hasClass("nav-menu__link"),e=o?t.parent():t,t=e.hasClass("opened");(n||o&&!t)&&(e.addClass("opened"),$(".nav").removeClass("shadow"))}),$(".js-openSearch").on("click",function(e){e.preventDefault(),$(".search").show(),$("#headerSearch").toggleClass("opened"),document.getElementById("searchField").focus()}),$(".search-close").on("click",function(e){e.preventDefault(),$(this).closest(".opened").removeClass("opened")})}),$("body.onpage-nav #navigation").navpoints({offset:100}),$("#navigation").navpoints({updateHash:!1}),window.IntersectionObserver?initObserver():console.log("IntersectionObserver not supported.");